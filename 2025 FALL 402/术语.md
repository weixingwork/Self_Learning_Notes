---
创建者: WeiXing
类别:
  - 402 OS
---
# Lecture 2

### 操作系统与抽象

- **Operating System (OS)**：操作系统，提供抽象、管理硬件资源。
- **Abstraction**：抽象，把复杂的硬件细节封装成简化接口（如文件、进程）。
- **Process (Program)**：进程，正在运行的程序。
- **Thread**：线程，进程内的执行单元（虚拟处理器）。

---

### 内存相关

- **Address Space**：地址空间，程序看到的虚拟内存布局。
- **Text (Code) Segment**：代码段，存放程序的机器指令。
- **Data Segment**：数据段，存放全局变量/静态变量。
    - **Initialized Data**：已初始化的全局/静态变量。
    - **BSS (Block Started by Symbol)**：未初始化的全局/静态变量。
- **Stack**：栈，存放局部变量、函数参数、返回地址。
- **Heap**：堆，存放动态分配的内存。

---

### 变量类型

- **Local Variable**：局部变量，存在 stack 中，生命周期随函数结束。
- **Dynamic Variable**：动态变量，存在 heap 中，大小和生命周期由程序员控制。
- **Global Variable**：全局变量，存放在 data 段，整个程序运行期间存在。
- **Static Variable**：静态变量，也在 data 段，生命周期等于程序运行期。

---

### 内存共享与虚拟内存

- **Memory Sharing Option 1**：物理内存直接切分给不同程序（不灵活）。
- **Memory Sharing Option 2**：如果程序需要的内存超过物理内存，引出虚拟内存。
- **Virtual Memory (VM)**：虚拟内存，硬件+OS 提供的抽象，每个程序认为自己有完整内存。
- **VA (Virtual Address)**：虚拟地址，程序员看到的地址。
- **PA (Physical Address)**：物理地址，实际映射到的硬件内存。
- **Memory Isolation**：内存隔离，保证程序互不干扰。
- **Paging / Swapping**（预告性质）：通过磁盘扩展内存。

---

### CPU 共享

- **Concurrency（并发）**：单 CPU 在多个线程/进程之间切换。
- **Parallelism（并行）**：多 CPU/多核同时运行多个线程。
- **Execution Context**：执行上下文（寄存器、PC、栈指针等），用于保存/恢复线程状态。
- **Scheduling**：调度，决定哪个线程/进程在 CPU 上运行。

# Section 1.3

- **Sixth-Edition Unix** → 第六版 Unix，经典早期 OS。
- **Monolithic OS** → 单体内核操作系统。
- **Processor Modes** → 处理器模式。
    - **Privileged Mode (Kernel Mode)** → 特权模式，内核运行在此。
    - **User Mode** → 用户模式，普通应用运行在此。
- **Kernel** → 内核，运行在特权模式下的 OS 部分。
- **Trap** → 陷阱，程序通过系统调用进入 OS。
- **System Call** → 系统调用。
- **Interrupt** → 中断，外部设备发出的信号。
- **Interrupt Service Routine (ISR)** → 中断服务程序。
- **Registers** → 寄存器（EIP, ESP, EBP, EAX, EBX 等）。
- **Bus Architecture** → 总线架构。
- **Address Bus (A[0..31])** → 地址总线。
- **Data Bus (D[0..31])** → 数据总线。
- **Control Lines (RD, WR, INT, LOCK)** → 控制信号线。
- **Read Bus Cycle** → 读总线周期。
- **Write Bus Cycle** → 写总线周期。